import{u as X,d as y,a as Y,c as Z,b,i as s,e as p,f as tt,A as nt,g as et,s as at,F as it,t as g,h as ct}from"./index-305ae3a4.js";const ot="_container_1yvnb_1",st="_card_1yvnb_23",rt="_Imagen_1yvnb_37",dt="_description_1yvnb_69",_t="_containerInput_1yvnb_85",lt="_precio_1yvnb_111",ut="_Buttons_1yvnb_129",vt="_tachado_1yvnb_141",$t="_nice_1yvnb_147",bt="_button2_1yvnb_165",i={container:ot,card:st,Imagen:rt,description:dt,containerInput:_t,precio:lt,Buttons:ut,tachado:vt,nice:$t,button2:bt,"button-17":"_button-17_1yvnb_295"},gt=g('<div><input placeholder="Ingrese para buscar" type="text"><button role="button">Buscar</button></div>',5),ft=g("<div></div>",2),Nt=g("<div>Cargando...</div>",2),ht=g('<div><div><img alt=""></div><h1></h1><div></div><div>Precio: <h1></h1><h1></h1></div><br><div><button role="button"></button><button role="button" type="button">Sumar al carrito</button><button role="button">Detalle</button></div></div>',24);function yt(){const{data:l,setData:St,favoritos:u,setFavoritos:R,cantidad:r,setCantidad:I,total:C,setTotal:x,count:f,setCount:k}=X(),[T,j]=y(),[d,z]=y(""),[B,O]=y(l()),G=Y();Z(()=>{localStorage.setItem("data",JSON.stringify(l())),localStorage.setItem("fav",JSON.stringify(u())),localStorage.setItem("cant",JSON.stringify(r())),localStorage.setItem("total",JSON.stringify(C())),localStorage.setItem("count",JSON.stringify(f()));let e=r().reduce((t,a)=>(console.log(t,a),t+a.precio*a.cantidad_a_comprar),0);x(e),console.log(d()),console.log(B())});const K=()=>{const e=l().filter(t=>t.categoria===d()||t.nombre.toLowerCase()===d());e.length==0||O(e)},Q=e=>{if(console.log(e),r().find(t=>t?.id===e?.id)){const t=r().map(a=>a?.id===e?.id?{...a,cantidad_a_comprar:a?.cantidad_a_comprar+1}:a);return k(f()+e?.cantidad_a_comprar),I([...t])}x(C()+e?.precio*e?.cantidad_a_comprar),k(f()+e?.cantidad_a_comprar),I([...r(),e])};return[(()=>{const e=gt.cloneNode(!0),t=e.firstChild,a=t.nextSibling;return t.addEventListener("change",c=>{z(c.target.value)}),a.$$click=()=>{d()==""?O(l()):K()},b(c=>{const v=i.containerInput,_=i.button2;return v!==c._v$&&(e.className=c._v$=v),_!==c._v$2&&(a.className=c._v$2=_),c},{_v$:void 0,_v$2:void 0}),b(()=>t.value=d()),e})(),(()=>{const e=ft.cloneNode(!0);return s(e,p(it,{get each(){return B()},get fallback(){return Nt.cloneNode(!0)},children:t=>(()=>{const a=ht.cloneNode(!0),c=a.firstChild,v=c.firstChild,_=c.nextSibling,N=_.nextSibling,h=N.nextSibling,U=h.firstChild,S=U.nextSibling,V=S.nextSibling,W=h.nextSibling,F=W.nextSibling,$=F.firstChild,m=$.nextSibling,J=m.nextSibling;return s(_,()=>t?.nombre),s(N,()=>t?.descripcion),s(S,()=>t.precio),s(V,()=>t.descuento?t.precio-t.descuento:""),$.$$click=()=>{const n=u().some(o=>o.id===t.id);j(n),T()||R([...u(),t])},s($,(()=>{const n=tt(()=>!!u().some(o=>o.id===t.id));return()=>n()?p(nt,{}):p(et,{})})()),m.$$click=()=>Q(t),J.$$click=()=>G("/detalles",{state:{item:t}}),b(n=>{const o=i.card,A=i.Imagen,D=t.img,E=i.description,P=i.precio,q=t.descuento?i.tachado:i.nice,H=i.Buttons,L=i.button2,w=i.button2,M=i.button2;return o!==n._v$3&&(a.className=n._v$3=o),A!==n._v$4&&(c.className=n._v$4=A),D!==n._v$5&&at(v,"src",n._v$5=D),E!==n._v$6&&(N.className=n._v$6=E),P!==n._v$7&&(h.className=n._v$7=P),q!==n._v$8&&(S.className=n._v$8=q),H!==n._v$9&&(F.className=n._v$9=H),L!==n._v$10&&($.className=n._v$10=L),w!==n._v$11&&(m.className=n._v$11=w),M!==n._v$12&&(J.className=n._v$12=M),n},{_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0}),a})()})),b(()=>e.className=i.container),e})()]}ct(["click"]);export{yt as default};
